<!DOCTYPE html>

<!--
    (c) Stuart Lambert 2018
    curriculum Vitae
-->

<html lang="en">
    <head>
        <title>Stuart Lambert - CV</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="format-detection" content="telephone=no">

        <!-- Style Sheets -->
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		
		<!-- Plugins -->
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> <!-- JQuery Library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script> <!-- JQuery UI Library -->
        
        <!-- Load custom JavaScript Objects -->
        <script src="./qualifications.js"></script>
        <script src="./skills.js"></script>
        <script src="./achievements.js"></script>
        <script src="./employment.js"></script>
        <script src="./education.js"></script>
        <script src="./references.js"></script>
        <script src="./courses.js"></script>
        <script src="./downloads.js"></script>

    </head>

    <body class="w3-light-grey">

        <!-- Layout -->
        <div id="layout_cols">


            <div id="left_col">
                <!-- Left Column -->
                
                <div>
                    <!-- Introduction -->
                    <div class="w3-blue w3-wide"><!-- Title -->
                        <h1>Stuart<br />Lambert</h1>
                    </div>
                    <div class="w3-small"><!-- Introduction -->
                        <p>I am a <i>data visualisation</i> expert with a background in <i>chemistry</i> and an interest in <i>coding</i>.</p>
                    </div>
                    <!-- Qualifications -->
                    <div id="qualifications"><!-- Qualifications -->
                        <h3>Qualifications</h3>
                        <ul>

                        </ul>
                    </div>
                    <!-- Skills -->
                    <div id="skills">
                        <h3>Skills</h3>
                    </div>
                    <!-- Contact Details -->
                    <div>
                        <h3>Contact</h3>
                        <p><i class="material-icons">email</i> <a href="mailto:stuart.t.lambert@gmail.com">stuart.t.lambert@gmail.com</a></p>
                        <p><i class="material-icons">home</i> Cheshire, UK</p>
                    </div>
                </div>

            </div><!-- End of Left Column -->



            <div id="right_col">
                <!-- Right Column -->

                <!-- Navigation -->
                <nav>
                    <div onclick="display_card($(this), 'key_achievements');">Key Achievements</div>
                    <div onclick="display_card($(this), 'employment');">Employment</div>
                    <div onclick="display_card($(this), 'education');">Education</div>
                    <div onclick="display_card($(this), 'other');">Other</div>
                    <div onclick="display_card($(this), 'downloads');">Downloads</div>
                </nav><!-- End of Navigation -->

                <!-- Key Achivements Page -->
                <div id="key_achievements">
                    <div>
                        <h2>Key Achievements</h2>
                        <ul>
                            
                        </ul>
                    </div>
                </div>

                <!-- Employment Page -->
                <div id="employment">
                    <div>
                        <h2>Employment</h2>
                        <ul>

                        </ul>
                    </div>
                </div>

                <!-- Education Page -->
                <div id="education">
                    <div>
                        <h2>Education</h2>
                        <ul>

                        </ul>
                    </div>
                </div>

                <!-- Other Page -->
                <div id="other">
                    <div id="references">
                        <h2>References</h2>
                        <ul>

                        </ul>
                    </div>
                    <div id="courses">
                        <h2>Courses</h2>
                        <table>
                            <tr>
                                <th>Date</th>
                                <th>Title</th>
                                <th>Provider</th>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Downloads Page -->
                <div id="downloads">
                    <div>
                        <h2>Downloads</h2>
                        <ul>

                        </ul>
                    </div>
                </div>

            </div><!-- End of Right Column -->
        </div>
        <!-- End of Page Layout -->

        <!-- Footer -->
        <footer id="footer">
            <p>&copy; Stuart Lambert - Updated October 2018</p>
            <p>Made with <a href="https://jquery.com/">JQuery</a>, <a href="https://www.w3schools.com/w3css/">w3.css</a> and <a href="https://material.io/icons/">Material Icons</a></p>
        </footer>




        <!-- Scripts to apply page formatting and make page interactive -->
        <script>

            // Format Layout
            function document_formats() {
                // Structure
                $('#layout_cols').attr('class', 'w3-row-padding w3-container');
                $('#layout_cols > #left_col').attr('class', 'w3-col l3');
                $('#layout_cols > #right_col').attr('class', 'w3-col l9');
                // Cards
                $('#layout_cols > div > div').each(function(){
                    $(this).attr('class', 'w3-card-2 w3-margin-top w3-white w3-text-blue-grey w3-justify');
                });
                // Divs within cards
                $('#layout_cols > div > div > div').each(function(){
                    $(this).attr('class', $(this).attr('class') + ' w3-container');
                });
                // Navigation Bar
                $('#layout_cols > div > nav').attr('class', 'w3-card-2 w3-margin-top w3-block w3-blue w3-bar');
                // Footer
                $('#footer').attr('class', 'w3-container w3-small w3-blue-grey w3-center w3-margin-top');
                // Lists
                $('ul').each(function(){
                    $(this).attr('class', $(this).attr('class') + ' w3-ul');
                });
                // Tables
                $('table').each(function(){
                    $(this).attr('class', $(this).attr('class') + ' w3-table w3-bordered');
                });
            };

            // Show or Hide elements
            function hide_cards() {
                $('#right_col > div').each(function(){
                    $(this).hide();
                });
            };

            function toggle_modules(btn){
                btn.next('ul').toggle();
            };

            // Navigation Functions
            function format_nav(){
                $('#layout_cols > div > nav > div').each(function(){
                    $(this).attr('class', 'w3-container w3-bar-item w3-hover-blue-grey w3-button')
                });
            };

            function display_card(btn, cardname) {
                hide_cards();
                format_nav();
                btn.attr('class', btn.attr('class') + " w3-blue-grey");
                $('#' + cardname).show();
            };

            // Format Dates
            function dateString_yearString(dt){
                // converts a string yyyy-mm-dd to the year yyyy
                var d = new Date(dt);
                return d.getFullYear().toString();
            };
            function dateString_monthString(dt){
                // converts a string yyyy-mm-dd to the month mmm-yyyy
                var d = new Date(dt);
                var txt;
                txt = monthNum_monthName(d.getMonth());
                txt = txt + ' ' + d.getFullYear().toString();
                return txt;
            };
            function dateString_daymonthString(dt){
                var d = new Date(dt);
                var txt;
                txt = d.getDate().toString();
                txt = txt + ' ' + monthNum_monthName(d.getMonth());
                return txt;
            };
            function monthNum_monthName(num){
                var mnth;
                switch(num){
                    case 0:
                        mnth = "Jan";
                        break;
                    case 1:
                        mnth = "Feb";
                        break;
                    case 2:
                        mnth = "Mar";
                        break;
                    case 3:
                        mnth = "Apr";
                        break;
                    case 4:
                        mnth = "May";
                        break;
                    case 5:
                        mnth = "Jun";
                        break;
                    case 6:
                        mnth = "Jul";
                        break;
                    case 7:
                        mnth = "Aug";
                        break;
                    case 8:
                        mnth = "Sep";
                        break;
                    case 9:
                        mnth = "Oct";
                        break;
                    case 10:
                        mnth = "Nov";
                        break;
                    case 11:
                        mnth = "Dec";
                        break;
                    default:
                        mnth = null;
                }
                return mnth;
            };

            // Process external file data
            function display_qualifications(){
                $.each(quals, function(){
                    var txt;
                    txt = '<li>';
                    txt = txt + this.award;
                    txt = txt + '<br /><span>';
                    txt = txt + this.title;
                    txt = txt + '<br />';
                    txt = txt + dateString_yearString(this.date);
                    txt = txt + ' ' + this.body;
                    txt = txt + '</span></li>';
                    $('#qualifications > ul').html($('#qualifications > ul').html() + txt);
                });
                $('#qualifications > ul span').each(function(){
                    $(this).attr('class', 'w3-small');
                });
            };

            function display_skills(){
                $.each(skills, function(){
                    var lvl;
                    if(this.level == null){
                        lvl = 50;
                    } else {
                        lvl = parseInt(this.level);
                        if(lvl < 50){
                            lvl = 50;
                        } else if(lvl > 100){
                            lvl = 100
                        };
                    };
                    $('#skills').html($('#skills').html() + '<div><div style="width: ' + lvl + '%">' + this.name + '</div></div>');
                });
                $('#skills > div').each(function() {
                    $(this).attr('class', 'w3-light-grey w3-round-xlarge w3-margin-bottom');
                });
                $('#skills > div > div').each(function() {
                    $(this).attr('class', 'w3-container w3-blue-grey w3-round-xlarge');
                });
            };

            function display_achievements(){
                $.each(achievements, function(){
                    var txt;
                    txt = '<li><dl>';
                    txt = txt + '<dt><b>What:</b>';
                    if(this.company != null){
                        txt = txt + '<span>' + this.company + '</span>';
                    };
                    txt = txt + '</dt>';
                    txt = txt + '<dd>' + this.what + '.</dd>';
                    if(this.how != null){
                        txt = txt + '<dt><b>How:</b></dt>';
                        txt = txt + '<dd>' + this.how + '.</dd>';
                    };
                    if(this.result != null){
                        txt = txt + '<dt><b>Resulting in:</b></dt>';
                        txt = txt + '<dd>' + this.result + '.</dd>';
                    };
                    if(this.comparison != null){
                        txt = txt + '<dt><b>Compared to:</b></dt>';
                        txt = txt + '<dd>' + this.comparison + '.</dd>';
                    };
                    if(this.skills != null){
                        txt = txt + '<dt><b>Skills Used:</b></dt>';
                        txt = txt + '<dd>';
                        for(i in this.skills){
                            txt = txt + '<span>' + this.skills[i] + '</span>';
                        }
                        txt = txt + '</dd>';
                    };
                    txt = txt + '</dl></li>';
                    $('#key_achievements ul').html($('#key_achievements ul').html() + txt);
                });
                $('#key_achievements ul dt span').attr('class', 'w3-right w3-tag w3-blue w3-wide w3-round');
                $('#key_achievements ul dd span').attr('class', 'w3-tag w3-blue-grey w3-round w3-margin-right');
            };

            function display_employment(){
                $.each(employment, function(){
                    var txt;
                    txt = '<li>';
                    txt = txt + '<h4>' + this.company + '</h4>'
                    txt = txt + '<b>' + this.title + '</b><br />';
                    txt = txt + '<i>' + dateString_monthString(this.start) + ' - ';
                    if(this.end != null){
                        txt = txt + dateString_monthString(this.end);
                    } else {
                        txt = txt + 'Present';
                    };
                    txt = txt + '</i>';
                    if(this.link != null){
                        txt = txt + '<br /><a href="' + this.link + '">' + this.link + '</a>';
                    };
                    if(this.responsibilities != null | this.achievements != null | this.skills != null){
                        txt = txt + '<dl>';
                        if(this.responsibilities != null){
                            txt = txt + '<dt><b>Responsibilities:</b></dt>';
                            for(i in this.responsibilities){
                                txt = txt + '<dd>' + this.responsibilities[i] + '</dd>';
                            };
                        };
                        if(this.achievements != null){
                            txt = txt + '<dt><b>Achievements:</b></dt>';
                            for(i in this.achievements){
                                txt = txt + '<dd>' + this.achievements[i] + '</dd>';
                            };
                        };
                        if(this.skills != null){
                            txt = txt + '<dt><b>Skills Used:</b></dt><dd>';
                            for(i in this.skills){
                                txt = txt + '<span>' + this.skills[i] + '</span>';
                            };
                        };
                        txt = txt + '</dd></dl>';
                    };
                    txt = txt + '</li>';
                    $('#employment ul').html($('#employment ul').html() + txt);
                    $('#employment ul dd span').attr('class', 'w3-tag w3-blue-grey w3-round w3-margin-right');
                });
            };

            function display_education(){
                $.each(education, function(){
                    var txt;
                    txt = '<li>';
                    txt = txt + '<h4>' + this.course + '</h4>';
                    txt = txt + this.school + '<br />';
                    if(this.qualification != null){
                        txt = txt + this.qualification;
                        if(this.result != null){
                            txt = txt + ' (' + this.result + ')'
                        };
                        txt = txt + '<br />';
                    };
                    txt = txt + dateString_monthString(this.date);
                    if(this.modules != null){
                        txt = txt + '<br />';
                        txt = txt + '<button onclick="toggle_modules($(this));">Modules</button>';
                        txt = txt + '<ul>';
                        $.each(this.modules, function(){
                            txt = txt + '<li>';
                            txt = txt + this.module;
                            if(this.code != null){
                                txt = txt + ' (' + this.code + ')';
                            };
                            if(this.result != null){
                                txt = txt + '<span>' + this.result + '</span>';
                            }
                            txt = txt + '</li>';
                        });
                        txt = txt + '</ul>';
                    };
                    txt = txt + '</li>';
                    $('#education > div > ul').html($('#education > div > ul').html() + txt);
                });
                $('#education button').attr('class', 'w3-button w3-blue w3-hover-blue-grey w3-margin-top w3-round');
                $('#education button + ul').attr('class', $('#education button + ul').attr('class') + ' w3-panel w3-light-grey w3-border-light-blue w3-leftbar w3-border-right');
                $('#education button + ul span').attr('class', 'w3-right');
                $('#education button + ul').hide();
            };

            function display_courses(){
                $.each(courses, function(){
                    var txt;
                    txt = '<tr>';
                    txt = txt + '<td>' + dateString_monthString(this.date) + '</td>';
                    txt = txt + '<td>' + this.name + '</td>';
                    txt = txt + '<td>' + this.provider + '</td>';
                    txt = txt + '</tr>';
                    $('#courses > table').html($('#courses > table').html() + txt);
                });
            };

            function display_references(){
                $.each(refs, function(){
                    var txt;
                    var no_authors = this.authors.length - 1;
                    txt = '<li>';
                    switch(true){
                        case this.journal != null:
                            var j = this.journal;
                            $.each(this.authors, function(index){
                                switch(true){
                                    case index == no_authors:
                                        txt = txt + this;
                                        break;
                                    case index == no_authors - 1:
                                        txt = txt + this + ' and ';
                                        break;
                                    default:
                                        txt = txt + this + ', ';
                                };
                            });
                            txt = txt + ' (' + dateString_yearString(this.date) + ')';
                            txt = txt + " '" + this.title + ".'";
                            txt = txt + ' <i>' + j.journal + '</i>';
                            txt = txt + ', Vol. ' + j.volume.toString();
                            if(j.issue != null){txt = txt + '(' + j.issue.toString() + ')';};
                            txt = txt + ', pp. ' + j.page;
                            txt = txt + '.';
                            break;
                        case this.conference != null:
                            var c = this.conference;
                            $.each(this.authors, function(index){
                                switch(true){
                                    case index == no_authors:
                                        txt = txt + this;
                                        break;
                                    case index == no_authors - 1:
                                        txt = txt + this + ' and ';
                                        break;
                                    default:
                                        txt = txt + this + ', ';
                                };
                            });
                            txt = txt + ' (' + dateString_yearString(this.date) + ')';
                            txt = txt + " '" + this.title + ".'";
                            txt = txt + ' Paper presented at: <i>' + c.conference + '</i>.';
                            txt = txt + ' ' + c.location + ',';
                            txt = txt + ' ' + dateString_daymonthString(this.date);
                            txt = txt + '.';
                            break;
                        default:
                            txt = txt + 'Not Recognised';
                    };
                    txt = txt + '</li>';
                    $('#references > ul').html($('#references > ul').html() + txt);
                });
            };

            function display_downloads() {
                $.each(downloads, function(){
                    var txt;
                    txt = '<li>';
                    txt = txt + '<h4>' + this.title + '</h4>';
                    txt = txt + this.description + '<br />';
                    txt = txt + '<a href="./downloads/">' + this.filename + '</a>';
                    txt = txt + '</li>';
                    $('#downloads ul').html($('#downloads ul').html() + txt)
                });
            };

            // Display external file data
            function display_data() {
                display_qualifications();
                display_skills();
                display_achievements();
                display_employment();
                display_education();
                display_courses();
                display_references();
                display_downloads();
            };

            // Initialise Page
            format_nav();
            hide_cards();
            display_data();
            document_formats();
            display_card($('nav > div:first-child'), $('nav + div').attr('id')); // displays first card
        
        </script>

    </body>

</html>